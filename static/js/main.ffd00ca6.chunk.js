(window.webpackJsonpapptest=window.webpackJsonpapptest||[]).push([[0],{27:function(t,e,r){t.exports=r(43)},32:function(t,e,r){},33:function(t,e,r){t.exports=r.p+"static/media/logo.5d5d9eef.svg"},34:function(t,e,r){},41:function(t,e,r){},42:function(t,e,r){},43:function(t,e,r){"use strict";r.r(e);var n=r(0),a=r.n(n),o=r(11),i=r.n(o),c=(r(32),r(33),r(34),r(1)),s=r(2),p=r(4),u=r(3),d=r(5),l=r(10),h=r(16),f=r(8);function v(){var t=Object(h.a)(['\n            border: "1px solid yellow";\n            opacity: 0.5;\n            background-color: red;\n            width: 100%;\n            height: 100%;\n        ']);return v=function(){return t},t}function b(){var t=Object(h.a)(["\n            from {\n                background-color: ",";\n                \n            }\n        \n            to {\n                background-color: red;\n                \n            }\n        "]);return b=function(){return t},t}var g=function(t){function e(){var t,r;Object(c.a)(this,e);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return(r=Object(p.a)(this,(t=Object(u.a)(e)).call.apply(t,[this].concat(a)))).getColor=function(){return 1===r.props.active?"black":"white"},r}return Object(d.a)(e,t),Object(s.a)(e,[{key:"render",value:function(){var t={backgroundColor:this.getColor(),minHeight:this.props.minHeight?this.props.minHeight:"20px",minWidth:this.props.minWidth?this.props.minWidth:"20px",outline:"1px solid lightblue",display:"inherit"},e=(Object(f.b)(b(),this.getColor()),f.a.div(v()));return a.a.createElement("div",{style:t,onMouseEnter:this.props.onMouseEnter,onClick:this.props.onClick},this.props.isMarked?a.a.createElement(e,null):"")}}]),e}(n.Component),S=(r(41),function(t){function e(){return Object(c.a)(this,e),Object(p.a)(this,Object(u.a)(e).apply(this,arguments))}return Object(d.a)(e,t),Object(s.a)(e,[{key:"getClass",value:function(){var t=this.props.className;return t?t+" custom-button":"custom-button"}},{key:"render",value:function(){return a.a.createElement("button",{onClick:this.props.onClick,class:this.getClass()},this.props.message)}}]),e}(n.Component));function m(t,e){var r=t,n=e,a=function(t){return t%r===0},o=function(t){return t-r<0},i=function(t){return r-t%r===1},c=function(t){return t+r>=r*n},s=function(t){return t+r*(n-1)},p=function(t){return t+(r-1)},u=function(t){return t-(r-1)},d=function(t){return t-r*(n-1)},l=function(t){var e=[];return e.push(function(t){var e=t-r-1;return a(t)&&o(t)?e=p(s(t)):a(t)?e=p(t)-r:o(t)&&(e=s(t)-1),e}(t)),e.push(function(t){var e=t-r;return o(t)&&(e=s(t)),e}(t)),e.push(function(t){var e=t-r+1;return o(t)&&i(t)?e=u(s(t)):i(t)?e=u(t)-r:o(t)&&(e=s(t)+1),e}(t)),e.push(function(t){var e=t-1;return a(t)&&(e=p(t)),e}(t)),e.push(function(t){var e=t+1;return i(t)&&(e=u(t)),e}(t)),e.push(function(t){var e=t+r-1;return a(t)&&c(t)?e=p(d(t)):a(t)?e=p(t)+r:c(t)&&(e=d(t)-1),e}(t)),e.push(function(t){var e=t+r;return c(t)&&(e=d(t)),e}(t)),e.push(function(t){var e=t+r+1;return i(t)&&c(t)?e=u(d(t)):i(t)?e=u(t)+r:c(t)&&(e=d(t)+1),e}(t)),e};function h(e,r){return r*t+e}function f(t,e){for(var r=[],n=e-2;n<=e+2;n++)for(var a=t-2;a<=t+2;a++)r.push(h(a,n));return r}return{getAdjacentCells:l,getConnectedCells:function(t,e){var r=[];return function t(n){var a=function(t){for(var r=[],n=l(t),a=0;a<n.length;a++){var o=n[a];e[o].active&&r.push(o)}return r}(n);void 0===a&&console.log(n);for(var o=0;o<a.length;o++)r.includes(a[o])||(r.push(a[o]),t(a[o]))}(t),r},getMooreCells:f,getPositionX:function(e){return e%t},getPositionY:function(e){return Math.floor(e/t)},captureCellsState:function(t,e,r){for(var n=f(t,e),a=[],o=0;o<n.length;o++){var i={id:o,active:r[n[o]].active};a.push(i)}return a}}}var y=function(t){function e(){return Object(c.a)(this,e),Object(p.a)(this,Object(u.a)(e).apply(this,arguments))}return Object(d.a)(e,t),Object(s.a)(e,[{key:"render",value:function(){var t=(this.props.selected?"selected":"")+" shape-generator-item-wrapper",e=a.a.createElement("div",{class:"shape-generator-item",style:{display:"grid",gridTemplateColumns:"repeat(5, 10px)",justifyContent:"center",margin:"10px"}},this.props.boardShape.map(function(t){return a.a.createElement(g,{id:t.id,active:t.active,minWidth:"10px",minHeight:"10px"})}));return a.a.createElement("div",{onClick:this.props.onClick,class:t},e)}}]),e}(n.Component),E=(r(42),function(t){function e(){return Object(c.a)(this,e),Object(p.a)(this,Object(u.a)(e).apply(this,arguments))}return Object(d.a)(e,t),Object(s.a)(e,[{key:"render",value:function(){var t=this;return a.a.createElement("div",{class:"shape-generator-container-wrapper"},a.a.createElement("div",{style:{width:"20px",backgroundColor:"yellow"}}),a.a.createElement("div",{class:"shape-generator-items-container"},this.props.savedShapes.map(function(e){return a.a.createElement(y,{id:e.id,selected:t.props.selectedShapeId===e.id,onClick:function(){t.props.selectShape(e.id)},boardShape:e.boardShape})})),a.a.createElement("div",{style:{width:"20px",backgroundColor:"yellow"}}))}}]),e}(n.Component)),O=Object(l.b)(function(t,e){return{selectedShapeId:t.selectedShapeId}},function(t){return{selectShape:function(e){t(function(t){return{type:"SELECT_SHAPE",shapeId:t}}(e))}}})(E),k=function(t){function e(t){var r;return Object(c.a)(this,e),(r=Object(p.a)(this,Object(u.a)(e).call(this,t))).toggleClickState=function(){r.setState({clickState:(r.state.clickState+1)%3,marked:[]})},r.cleanBoard=function(){r.props.cleanBoard()},r.calculateCellResult=function(t){var e=m(r.props.boardWidth,r.props.boardHeight),n=1===r.props.board[t].active,a=e.getAdjacentCells(t),o=0;for(var i in a)o+=r.props.board[a[i]].active;var c=0;return n||3!==o||(c=1),n&&o<=1&&(c=0),n&&o>=4&&(c=0),!n||2!==o&&3!==o||(c=1),c},r.emptyBoard=function(){},r.updateBoardStateInterval=function(){if(0===r.state.intervalId){var t=setInterval(function(){return r.updateBoardState()},200);r.setState({intervalId:t})}else clearInterval(r.state.intervalId),r.setState({intervalId:0})},r.updateBoardState=function(){for(var t=r.props.board,e=[],n=0;n<t.length;n++){var a={id:n,active:r.calculateCellResult(n)};e.push(a)}r.props.updateBoard(e)},r.isMarked=function(t){if(r.state.marked.findIndex(function(e){return e===t})>=0)return!0},r.setMarked=function(t){var e=m(r.props.boardWidth,r.props.boardHeight);r.setState({marked:e.getMooreCells(e.getPositionX(t),e.getPositionY(t))})},r.saveShape=function(t){var e=m(r.props.boardWidth,r.props.boardHeight);r.props.saveShape(e.captureCellsState(e.getPositionX(t),e.getPositionY(t),r.props.board))},r.onBoxClick=function(t){if("Point"===r.state.clickStates[r.state.clickState]&&r.props.toggleBox(t),"Shape"===r.state.clickStates[r.state.clickState]){for(var e=m(r.props.boardWidth,r.props.boardHeight),n=r.props.savedShapes[r.props.selectedShapeId].boardShape,a=e.getMooreCells(e.getPositionX(t),e.getPositionY(t),r.props.board),o=0;o<a.length;o++){t=a[o];var i=n[o].active;r.props.board[t].active=i}r.props.applySelectedShape(r.props.board)}"Capture"===r.state.clickStates[r.state.clickState]&&r.saveShape(t)},r.state={widthSize:"20px",marked:[],intervalId:0,clickState:0,clickStates:["Point","Shape","Capture"]},r}return Object(d.a)(e,t),Object(s.a)(e,[{key:"render",value:function(){var t=this,e=(this.state.width,this.state.widthSize,"repeat(".concat(this.props.boardWidth,", ").concat(this.state.widthSize,")"),a.a.createElement("div",{style:{display:"grid",gridTemplateColumns:"repeat(".concat(this.props.boardWidth,", ").concat(this.state.widthSize,")"),justifyContent:"center",margin:"10px"}},this.props.board.map(function(e){return a.a.createElement(g,{id:e.id,active:e.active,isMarked:t.isMarked(e.id),onMouseEnter:function(){t.setMarked(e.id)},onClick:function(){t.onBoxClick(e.id)}})}))),r=a.a.createElement("div",{style:{display:"flex",justifyContent:"space-between"}},a.a.createElement(S,{onClick:this.toggleClickState,message:this.state.clickStates[this.state.clickState]}),a.a.createElement(S,{onClick:this.updateBoardStateInterval,message:"Update",className:0!=this.state.intervalId?"on":"off"}),a.a.createElement(S,{onClick:this.cleanBoard,message:"Clear"}));return a.a.createElement("div",{style:{width:"80%",margin:"20px"}},a.a.createElement(O,{savedShapes:this.props.savedShapes}),e,r)}}]),e}(n.Component),C=Object(l.b)(function(t,e){var r=e.postId;return{post:t.posts.find(function(t){return t.id===r}),board:t.board,boardWidth:t.boardWidth,boardHeight:t.boardHeight,savedShapes:t.savedShapes,selectedShapeId:t.selectedShapeId}},function(t){return{deletePost:function(e){t(function(t){return{type:"DELETE_POST",id:t}}(e))},toggleBox:function(e){t(function(t){return{type:"TOGGLE_BOX",id:t}}(e))},updateBoard:function(e){t(function(t){return{type:"UPDATE_BOARD",board:t}}(e))},cleanBoard:function(e){t(function(t){return{type:"CLEAN_BOARD",board:t}}())},saveShape:function(e){t(function(t){return{type:"SAVE_SHAPE",boardShape:t}}(e))},applySelectedShape:function(e){t(function(t){return{type:"APPLY_SELECTED_SHAPE",boardState:t}}(e))}}})(k);var j=function(){return a.a.createElement("div",{className:"App"},a.a.createElement("header",{className:"App-header"},a.a.createElement(C,{postId:"1"})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var w=r(13),P=r(19),I=r(24);function A(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)}return r}function B(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?A(r,!0).forEach(function(e){Object(I.a)(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):A(r).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}var x={posts:[{id:"1",title:"F",body:"Hello",name:"Josh"}],board:function(t,e){for(var r=[],n=0;n<t*e;n++){var a={id:n,active:Math.round(Math.random())};r.push(a)}return r}(20,20),savedShapes:[],boardWidth:20,boardHeight:20,selectedShapeId:0};function H(t,e){for(var r=[],n=0;n<t*e;n++){var a={id:n,active:0};r.push(a)}return r}var W=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x,e=arguments.length>1?arguments[1]:void 0;if("DELETE_POST"===e.type){var r=t.posts.filter(function(t){return e.id!==t.id});return B({},t,{posts:r})}if("TOGGLE_BOX"===e.type){var n=t.board.map(function(t,r){return t.id===e.id&&(t.active=0===t.active?1:0),t});return B({},t,{board:n})}if("UPDATE_BOARD"===e.type)return B({},t,{board:e.board});if("CLEAN_BOARD"===e.type)return B({},t,{board:H(t.boardWidth,t.boardHeight)});if("SAVE_SHAPE"===e.type){var a={id:t.savedShapes.length,boardShape:e.boardShape};return B({},t,{savedShapes:[].concat(Object(P.a)(t.savedShapes),[a])})}return"SELECT_SHAPE"===e.type?B({},t,{selectedShapeId:e.shapeId}):"APPLY_SELECTED_SHAPE"===e.type?((a=Object(P.a)(e.boardState))[0].active=1,B({},t,{board:a})):t},_=Object(w.b)(W);i.a.render(a.a.createElement(l.a,{store:_},a.a.createElement(j,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(t){t.unregister()})}},[[27,1,2]]]);
//# sourceMappingURL=main.ffd00ca6.chunk.js.map